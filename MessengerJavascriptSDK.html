<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Genesys Messenger Integration</title>

  <script type="text/javascript" charset="utf-8">
    // Load Genesys script after the DOM has loaded
    window.onload = function () {
      (function (g, e, n, es, ys) {
        g['_genesysJs'] = e;
        g[e] = g[e] || function () {
          (g[e].q = g[e].q || []).push(arguments);
        };
        g[e].t = 1 * new Date();
        g[e].c = es;
        ys = document.createElement('script');
        ys.async = 1;
        ys.src = n;
        ys.charset = 'utf-8';
        document.head.appendChild(ys);
      })(window, 'Genesys', 'https://apps.cac1.pure.cloud/genesys-bootstrap/genesys.min.js', {
        deploymentId: '1eb41dea-8703-4b75-8392-10501b321535',
        environment: 'prod-cac1',
        debug: true // Enables Genesys browser console logging
      });
    };

    // Function to toggle Messenger and display a Toaster notification
    function toggleMessenger() {
      // Wait for Messenger to be ready before executing commands
      Genesys("subscribe", "Messenger.ready", function () {
        console.log("Messenger is ready");

        // Open a Toaster notification
        Genesys("command", "Toaster.open", {
          title: "Welcome to Genesys Cloud",
          body: "Encountering issues? Our support team is ready to assist you.",
          buttons: {
            type: "binary", // 'binary' for two action buttons
            primary: "Get Support", // Primary button text
            secondary: "Maybe Later" // Secondary button text
          }
        },
        function () {
          console.log("Toaster opened successfully");
        },
        function (error) {
          console.error("Error opening Toaster:", error);
        });
      });
    }
  </script>
</head>
<body>
  <h1>Genesys Messenger Integration</h1>
  <p>Click the button below to launch the Genesys Messenger and display a notification.</p>

  <!-- Button to launch Messenger -->
  <button type="button" id="custom-launcher" onclick="toggleMessenger()">
    Open Messenger
  </button>
</body>
</html>
