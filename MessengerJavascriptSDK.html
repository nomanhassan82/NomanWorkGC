<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Genesys Headless Chat</title>
  <style>
    /* [Keep your existing styles] */
  </style>
</head>
<body>
  <!-- [Keep your existing HTML structure] -->

  <script>
    // Fixed Genesys initialization
    (function (g, e, n, es) {
      g["_genesysJs"] = e;
      g[e] = g[e] || function () { (g[e].q = g[e].q || []).push(arguments); };
      g[e].t = +new Date();
      g[e].c = {
        deploymentId: "4411676a-d200-478c-8adc-1312bb86bb84",
        environment: "prod-cac1",
        messenger: { 
          headlessMode: true,
          autoStart: false
        },
        debug: false // Critical fix - changed from object to boolean
      };
      var s = document.createElement("script");
      s.async = true;
      s.src = n;
      s.charset = "utf-8";
      s.onerror = function() {
        console.error("Failed to load Genesys SDK");
        document.getElementById("statusIndicator").textContent = "Failed to load chat service";
      };
      document.head.appendChild(s);
    })(
      window,
      "Genesys",
      "https://apps.cac1.pure.cloud/genesys-bootstrap/genesys.min.js"
    );

    // Alternative debugging
    Genesys("subscribe", "MessagingService.ready", function() {
      console.log("SDK Ready");
      // Enable debug logging safely
      Genesys("subscribe", "MessagingService.debug", function(event) {
        console.debug("[Genesys]", event);
      });
    });

    // [Rest of your existing code]
  </script>
</body>
</html>
