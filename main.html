</head>
<body>

    <div class="container">
        <h3>Tykans Genesys Cloud Configuration Utility</h3>
        <form id="authForm">
            <label for="clientId">Client ID:</label>
            <input type="text" id="clientId" placeholder="Enter your client ID" value="">

            <div class="error-message" id="clientIdError">Please enter a valid Client ID.</div>

            <label for="redirectUri">Redirect URI:</label>
            <input type="text" id="redirectUri" placeholder="Enter your redirect URI" value="https://razarehman990.github.io/TykansGCXUtility/auth.html">

            <div class="error-message" id="redirectUriError">Please enter a valid Redirect URI.</div>

            <label for="environment">Genesys Cloud Environment:</label>
            <input type="text" id="environment" placeholder="Enter Genesys Cloud environment" value="cac1.pure.cloud">

            <div class="error-message" id="environmentError">Please enter a valid Genesys Cloud Environment.</div>

            <button type="submit">Authenticate</button>
        </form>
    </div>

    <script>
        document.getElementById('authForm').addEventListener('submit', function(event) {
            event.preventDefault(); // Prevent default form submission

            // Get input values
            const clientId = document.getElementById('clientId').value.trim();
            const redirectUri = document.getElementById('redirectUri').value.trim();
            const environment = document.getElementById('environment').value.trim();

            // Validate inputs
            let isValid = true;
            if (!clientId) {
                isValid = false;
                document.getElementById('clientIdError').style.display = 'block';
            } else {
                document.getElementById('clientIdError').style.display = 'none';
            }

            if (!redirectUri) {
                isValid = false;
                document.getElementById('redirectUriError').style.display = 'block';
            } else {
                document.getElementById('redirectUriError').style.display = 'none';
            }

            if (!environment) {
                isValid = false;
                document.getElementById('environmentError').style.display = 'block';
            } else {
                document.getElementById('environmentError').style.display = 'none';
            }

            // Proceed if all inputs are valid
            if (isValid) {
                const queryStringData = {
                    response_type: "token",
                    client_id: clientId,
                    redirect_uri: redirectUri
                }

                // Redirect to Genesys Cloud for authentication
                window.location.replace(`https://login.${environment}/oauth/authorize?` + new URLSearchParams(queryStringData));
            }
        });
    </script>


</body></html>
