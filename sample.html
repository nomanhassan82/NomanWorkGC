<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Genesys Cloud Implicit Integration</title>
</head>
<body>

<h1>Genesys Cloud Users</h1>

<button onclick="fetchUsers()">Fetch Users</button>
<button onclick="createUser()">Create User</button>

<script>
    const BASE_URL = 'https://api.mypurecloud.com/v2';
    const ACCESS_TOKEN = 'YOUR_ACCESS_TOKEN';

    async function fetchUsers() {
        const url = `${BASE_URL}/users`;

        try {
            const response = await fetch(url, {
                method: 'GET',
                headers: {
                    'Authorization': `Bearer ${ACCESS_TOKEN}`,
                    'Content-Type': 'application/json'
                }
            });

            if (response.ok) {
                const data = await response.json();
                console.log('List of users:', data);
                alert('Users fetched! Check console for details.');
            } else {
                console.error(`Error ${response.status}: ${await response.text()}`);
                alert(`Error fetching users: ${response.status}`);
            }
        } catch (error) {
            console.error('Error fetching users:', error);
            alert('Error fetching users. Please check console.');
        }
    }

    async function createUser() {
        const url = `${BASE_URL}/users`;

        const userData = {
            name: 'John Doe',
            email: 'johndoe@example.com'
            // Add other user details as needed
        };

        try {
            const response = await fetch(url, {
                method: 'POST',
                headers: {
                    'Authorization': `Bearer ${ACCESS_TOKEN}`,
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(userData)
            });

            if (response.ok) {
                const data = await response.json();
                console.log('New user created:', data);
                alert('User created successfully! Check console for details.');
            } else {
                console.error(`Error ${response.status}: ${await response.text()}`);
                alert(`Error creating user: ${response.status}`);
            }
        } catch (error) {
            console.error('Error creating user:', error);
            alert('Error creating user. Please check console.');
        }
    }
</script>

</body>
</html>
